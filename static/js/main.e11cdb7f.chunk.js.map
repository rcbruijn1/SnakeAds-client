{"version":3,"sources":["App.style.js","AdGrid.jsx","ads.js","App.jsx","index.js"],"names":["useAppStyles","makeStyles","theme","toolbar","display","justifyContent","adGrid","height","cardActionArea","width","AdGrid","ads","handleCallback","classes","handleClick","ad","date","Date","assetId","id","Math","random","toString","split","getRandomId","axios","post","advertisementId","publisherId","timeStamp","toISOString","then","response","console","log","catch","error","Box","m","Grid","container","justify","spacing","className","map","item","xs","align","CardActionArea","onClick","src","img","exampleAds","publisheradvertisementId","App","useState","clicks","setClicks","assets","setAssets","open","setOpen","snackbar","setSnackbar","handleClickUpdate","get","res","data","length","useEffect","bgcolor","alignItems","overflow","AppBar","position","Toolbar","Typography","variant","mr","Button","color","Dialog","maxWidth","DialogContent","paragraph","asset","py","style","widht","JSON","stringify","Record","DialogActions","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","severity","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e11cdb7f.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core';\n\nexport const useAppStyles = makeStyles(theme => ({\n\n    toolbar: { \n        display: 'flex', \n        justifyContent: 'space-between' \n    },\n\n    adGrid: {\n        height: 'calc(100% - 96px)',\n    },\n\n    cardActionArea: {\n        width: 200,\n    },    \n}));\n","import React from 'react';\nimport PropTypes from 'prop-types'\nimport axios from 'axios';\n\n// Core\nimport { Box, Grid, CardActionArea } from '@material-ui/core';\n\n// Style\nimport { useAppStyles } from './App.style';\n\nconst AdGrid = ({ ads, handleCallback }) => {\n    const classes = useAppStyles();\n\n    const getRandomId = () => {\n        let id = Math.random().toString();\n        id = id.split('0.');\n        return id[1];\n    }\n\n    const handleClick = ad => {\n        const date = new Date()\n        const assetId = getRandomId();\n\n        axios.post('http://localhost:3000/createAsset', \n          {\n            id: assetId.split(\".\"),\n            advertisementId: ad.advertisementId,\n            publisherId: '12345',\n            timeStamp: date.toISOString(),\n          })\n          .then(function (response) {\n              handleCallback(response);\n              console.log(response);\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n    };\n\n    return (\n        <Box m={3}>\n            <Grid container justify=\"center\" spacing={3} className={classes.adGrid}>\n                {ads.map(ad => (\n                    <Grid item xs={3} align=\"center\">\n                        <CardActionArea onClick={() => handleClick(ad)} className={classes.cardActionArea}>\n                            <img src={ad.img} width=\"200\" height=\"auto\" />\n                        </CardActionArea>\n                    </Grid>\n                ))}\n            </Grid>\n        </Box>\n    );\n};\n\nAdGrid.propTypes = {\n    ads: PropTypes.array.isRequired,\n    handleCallback: PropTypes.func.isRequired,\n};\n\nexport default AdGrid;","export const exampleAds = [\n    {\n      advertisementId: 1,\n      img: 'https://picsum.photos/id/101/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 2,\n      img: 'https://picsum.photos/id/102/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 3,\n      img: 'https://picsum.photos/id/1001/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 4,\n      img: 'https://picsum.photos/id/1031/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 5,\n      img: 'https://picsum.photos/id/1012/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 6,\n      img: 'https://picsum.photos/id/1041/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 7,\n      img: 'https://picsum.photos/id/103/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 8,\n      img: 'https://picsum.photos/id/107/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 9,\n      img: 'https://picsum.photos/id/101/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 10,\n      img: 'https://picsum.photos/id/110/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 11,\n      img: 'https://picsum.photos/id/120/200/220',\n      publisherId: 'pub1_10/2020',\n    },\n    {\n      advertisementId: 12,\n      img: 'https://picsum.photos/id/121/200/220',\n      publisheradvertisementId: 'pub1_10/2020',\n    },\n  ];","import React, { Fragment, useEffect, useState } from 'react';\nimport axios from 'axios';\n\n// Core\nimport { AppBar, Box, Button, Dialog, DialogActions, DialogContent, Toolbar, Typography, Snackbar } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport AdGrid from './AdGrid';\n\n// Style\nimport { useAppStyles } from './App.style';\n\n// Assets\nimport { exampleAds } from './ads';\n\nconst App = () => {\n  const classes = useAppStyles();\n  const [clicks, setClicks] = useState(0);\n  const [assets, setAssets] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [snackbar, setSnackbar] = useState(false);\n  \n  const handleClickUpdate = response => {\n    axios.get(`http://localhost:3000`)\n    .then(res => {\n      const assets = res.data;\n      setClicks(assets.length);\n      setAssets(assets);\n      setSnackbar(true);\n    })\n  };\n\n  useEffect(() => {\n    handleClickUpdate();\n}, []);\n\n\n  return (\n    <Fragment>\n      <Box height=\"100vh\" width=\"100vw\" bgcolor=\"#f2f2f2\" display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" overflow=\"hidden\">\n        <AppBar position=\"fixed\">\n          <Toolbar className={classes.toolbar}>\n            <Typography variant=\"h6\">\n              Snake Ads\n            </Typography>\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n              <Box mr={2}>\n                <Button variant=\"contained\" color=\"secondary\" onClick={() => setOpen(true)}>\n                  Raw output\n                </Button>\n              </Box>\n              <Typography variant=\"body1\" color=\"initial\">\n                {`Clicks registered: ${clicks}`}\n              </Typography>\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <AdGrid handleCallback={handleClickUpdate} ads={exampleAds} />\n      </Box>\n\n      <Dialog open={open} maxWidth={false}>\n        <DialogContent>\n          <Typography variant=\"h6\" paragraph>\n            {`Total assets: ${assets && assets.length}`} \n          </Typography>\n          {assets && assets.map(asset => (\n            <Box py={2}>\n              <Typography paragraph style={{widht: '100%'}}>\n                {JSON.stringify(asset.Record)}\n              </Typography>\n            </Box>\n          ))}\n        </DialogContent>\n        <DialogActions>\n          <Button variant=\"outlined\" onClick={() => setOpen(false)}>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      <Snackbar \n        open={snackbar} \n        autoHideDuration={4000} \n        onClose={() => setSnackbar(false)}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n      >\n        <Alert severity=\"info\">\n          Clicks are updated!\n        </Alert>\n      </Snackbar>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}